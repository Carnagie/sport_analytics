{% extends "base.html" %}

{% block content %}
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>

    <div class="page-content">
        <!-- Page Header-->
        <div class="page-header no-margin-bottom">
            <div class="container-fluid">
                <h2 class="h5 no-margin-bottom">Vert Analyze Form</h2>
            </div>
        </div>
        <!-- Breadcrumb-->
        <div class="container-fluid">
            <ul class="breadcrumb">
                <li class="breadcrumb-item"><a href="/">Home</a></li>
                <li class="breadcrumb-item active">Form</li>
            </ul>
        </div>
        <section class="no-padding-top">
            <div class="container-fluid">
                <div class="row">
                    <!-- Basic Form-->
                    <div class="col-lg-12">
                        <div class="block">
                            <div class="title"><strong class="d-block">Chose Date to Analyze</strong>
                            </div>
                            <div class="block-body">


                                <form action="/vert" method="post" autocomplete="off" enctype="multipart/form-data">
                                    <div class="row">


                                        <div class="col-lg-12">

                                            <div class="col-lg-12"><h3>Choose Among Profiles</h3></div>

                                            <div class="col-lg-12">
                                                <select class="col-lg-12 form-control" name="tableChosen">
                                                    {% for k in jsonProfilDict %}
                                                        <option>
                                                            {{ k }}
                                                        </option>
                                                    {% endfor %}
                                                </select>


                                                <input class="form-control" type="date" name="dateChosen">

                                                <button class="btn btn-success col-lg-5" type="submit"
                                                        name="submitButton">Bring Profile
                                                </button>
                                                <button class="btn btn-warning col-lg-5" type="button" id="pdf">Print
                                                </button>
                                            </div>
                                        </div>

                                    </div>
                                </form>


                                <div class="container-fluid" id="topdf">


                                    <h2 class="nameTag"
                                        style="padding-top:10%;text-align:center;margin-left:5%;">{{ nameChosen }}</h2>
                                    <h2 class="nameTag"
                                        style="padding-top:2%;text-align:center;margin-left:3.3%;">{{ dateChosen }}
                                        Test Results</h2>


                                    <div class="row">

                                            <div class="col-lg-6">
                                                <div class="chart block" style="background-color: white">
                                                    <div>
                                                        <canvas id="canvasVert"></canvas>
                                                    </div>
                                                </div>

                                                <script>

                                                    var chartColors = {
                                                        red: 'rgb(255, 99, 132)',
                                                        orange: 'rgb(255, 159, 64)',
                                                        yellow: 'rgb(255, 205, 86)',
                                                        green: 'rgb(75, 192, 192)',
                                                        blue: 'rgb(54, 162, 235)',
                                                        purple: 'rgb(153, 102, 255)',
                                                        grey: 'rgb(231,233,237)'
                                                    };

                                                    var config = {
                                                        type: 'bar',
                                                        data: {
                                                            labels: [
                                                                {% for k in vertTestsWeekLab %}
                                                                    "{{k}}",
                                                                {% endfor %}
                                                            ],
                                                            datasets: [{
                                                                label: "Maximum",
                                                                backgroundColor: chartColors.red,
                                                                borderColor: chartColors.red,
                                                                data: [
                                                                    {% for k in vertTestMax %}
                                                                        "{{k}}",
                                                                    {% endfor %}
                                                                ],
                                                                fill: false,
                                                            }, {
                                                                label: "Ortalama",
                                                                fill: false,
                                                                backgroundColor: chartColors.blue,
                                                                borderColor: chartColors.blue,
                                                                data: [
                                                                    {% for k in vertTestOrt %}
                                                                        "{{k}}",
                                                                    {% endfor %}
                                                                ],
                                                            }, {
                                                                label: "Total",
                                                                fill: false,
                                                                backgroundColor: chartColors.yellow,
                                                                borderColor: chartColors.yellow,
                                                                data: [
                                                                    {% for k in vertTestTotal %}
                                                                        "{{k}}",
                                                                    {% endfor %}
                                                                ],
                                                            }]
                                                        },
                                                        options: {
                                                            responsive: true,
                                                            title: {
                                                                display: true,
                                                                text: 'Vert Test Results Last 52'
                                                            },
                                                            ticks: {
                                                                min: 0,
                                                                max: 1000
                                                            },
                                                            tooltips: {
                                                                mode: 'label',
                                                            },
                                                            hover: {
                                                                mode: 'nearest',
                                                                intersect: true
                                                            },
                                                            scales: {
                                                                xAxes: [{
                                                                    display: true,
                                                                    scaleLabel: {
                                                                        display: true,
                                                                        labelString: 'Dates'
                                                                    }
                                                                }],
                                                                yAxes: [{
                                                                    display: true,
                                                                    scaleLabel: {
                                                                        display: true,
                                                                        labelString: 'Results (cm)'
                                                                    },
                                                                    ticks: {
                                                                        beginAtZero: true
                                                                    }
                                                                }]
                                                            }
                                                        }
                                                    };


                                                    var ctx = document.getElementById("canvasVert").getContext("2d");
                                                    window.myLine = new Chart(ctx, config);

                                                </script>

                                            </div>

                                            <div class="col-lg-6">
                                                <div class="chart block" style="background-color: white">
                                                    <div>
                                                        <canvas id="canvasVert2"></canvas>
                                                    </div>
                                                </div>

                                                <script>

                                                    var chartColors = {
                                                        red: 'rgb(255, 99, 132)',
                                                        orange: 'rgb(255, 159, 64)',
                                                        yellow: 'rgb(255, 205, 86)',
                                                        green: 'rgb(75, 192, 192)',
                                                        blue: 'rgb(54, 162, 235)',
                                                        purple: 'rgb(153, 102, 255)',
                                                        grey: 'rgb(231,233,237)'
                                                    };

                                                    var config = {
                                                        type: 'line',
                                                        data: {
                                                            labels: [
                                                                {% for k in vertTestsWeekLab %}
                                                                    "{{k}}",
                                                                {% endfor %}
                                                            ],
                                                            datasets: [{
                                                                label: "Maximum",
                                                                backgroundColor: chartColors.red,
                                                                borderColor: chartColors.red,
                                                                data: [
                                                                    {% for k in vertTestMax %}
                                                                        "{{k}}",
                                                                    {% endfor %}
                                                                ],
                                                                fill: false,
                                                            }, {
                                                                label: "Ortalama",
                                                                fill: false,
                                                                backgroundColor: chartColors.blue,
                                                                borderColor: chartColors.blue,
                                                                data: [
                                                                    {% for k in vertTestOrt %}
                                                                        "{{k}}",
                                                                    {% endfor %}
                                                                ],
                                                            }, {
                                                                label: "Total",
                                                                fill: false,
                                                                backgroundColor: chartColors.yellow,
                                                                borderColor: chartColors.yellow,
                                                                data: [
                                                                    {% for k in vertTestTotal %}
                                                                        "{{k}}",
                                                                    {% endfor %}
                                                                ],
                                                            }]
                                                        },
                                                        options: {
                                                            responsive: true,
                                                            title: {
                                                                display: true,
                                                                text: 'Vert Test Results Last 52'
                                                            },
                                                            ticks: {
                                                                min: 0,
                                                                max: 1000
                                                            },
                                                            tooltips: {
                                                                mode: 'label',
                                                            },
                                                            hover: {
                                                                mode: 'nearest',
                                                                intersect: true
                                                            },
                                                            scales: {
                                                                xAxes: [{
                                                                    display: true,
                                                                    scaleLabel: {
                                                                        display: true,
                                                                        labelString: 'Dates'
                                                                    }
                                                                }],
                                                                yAxes: [{
                                                                    display: true,
                                                                    scaleLabel: {
                                                                        display: true,
                                                                        labelString: 'Results (cm)'
                                                                    },
                                                                    ticks: {
                                                                        beginAtZero: true
                                                                    }
                                                                }]
                                                            }
                                                        }
                                                    };


                                                    var ctx = document.getElementById("canvasVert2").getContext("2d");
                                                    window.myLine = new Chart(ctx, config);

                                                </script>

                                            </div>

                                    </div>


                                    <div class="row">


                                            <div class="col-lg-6">

                                                <div class="chart block" style="background-color: white">
                                                    <div>
                                                        <canvas id="canvasVertMax"></canvas>
                                                    </div>
                                                </div>

                                                <script>

                                                    var chartColors = {
                                                        red: 'rgb(255, 99, 132)',
                                                        orange: 'rgb(255, 159, 64)',
                                                        yellow: 'rgb(255, 205, 86)',
                                                        green: 'rgb(75, 192, 192)',
                                                        blue: 'rgb(54, 162, 235)',
                                                        purple: 'rgb(153, 102, 255)',
                                                        grey: 'rgb(231,233,237)'
                                                    };

                                                    var randomScalingFactor = function () {
                                                        return (Math.random() > 0.5 ? 1.0 : -1.0) * Math.round(Math.random() * 100);
                                                    }
                                                    var config = {
                                                        type: 'bar',
                                                        data: {
                                                            labels: [
                                                                {% for k in vertTestMaxLab %}
                                                                    "{{k}}",
                                                                {% endfor %}
                                                            ],
                                                            datasets: [{
                                                                label: "Maximum",
                                                                backgroundColor: chartColors.orange,
                                                                borderColor: chartColors.orange,
                                                                data: [
                                                                    {% for k in vertTestMaxValue %}
                                                                        "{{k}}",
                                                                    {% endfor %}
                                                                ],
                                                                fill: false,
                                                            }]
                                                        },
                                                        options: {
                                                            responsive: true,
                                                            title: {
                                                                display: true,
                                                                text: 'Vert Test Maximum Results'
                                                            },
                                                            ticks: {
                                                                min: 0,
                                                                max: 1000
                                                            },
                                                            tooltips: {
                                                                mode: 'label',
                                                            },
                                                            hover: {
                                                                mode: 'nearest',
                                                                intersect: true
                                                            },
                                                            scales: {
                                                                xAxes: [{
                                                                    display: true,
                                                                    scaleLabel: {
                                                                        display: true,
                                                                        labelString: 'Athletes'
                                                                    }
                                                                }],
                                                                yAxes: [{
                                                                    display: true,
                                                                    scaleLabel: {
                                                                        display: true,
                                                                        labelString: 'Results (cm)'
                                                                    },
                                                                    ticks: {
                                                                        beginAtZero: true
                                                                    }
                                                                }]
                                                            }
                                                        }
                                                    };


                                                    var ctx = document.getElementById("canvasVertMax").getContext("2d");
                                                    window.myLine = new Chart(ctx, config);

                                                </script>

                                            </div>

                                            <div class="col-lg-6">
                                                <div class="chart block" style="background-color: white">
                                                    <div>
                                                        <canvas id="canvasVertMax2"></canvas>
                                                    </div>
                                                </div>

                                                <script>

                                                    var chartColors = {
                                                        red: 'rgb(255, 99, 132)',
                                                        orange: 'rgb(255, 159, 64)',
                                                        yellow: 'rgb(255, 205, 86)',
                                                        green: 'rgb(75, 192, 192)',
                                                        blue: 'rgb(54, 162, 235)',
                                                        purple: 'rgb(153, 102, 255)',
                                                        grey: 'rgb(231,233,237)'
                                                    };

                                                    var randomScalingFactor = function () {
                                                        return (Math.random() > 0.5 ? 1.0 : -1.0) * Math.round(Math.random() * 100);
                                                    }
                                                    var config = {
                                                        type: 'line',
                                                        data: {
                                                            labels: [
                                                                {% for k in vertTestMaxLab %}
                                                                    "{{k}}",
                                                                {% endfor %}
                                                            ],
                                                            datasets: [{
                                                                label: "Maximum",
                                                                backgroundColor: chartColors.orange,
                                                                borderColor: chartColors.orange,
                                                                data: [
                                                                    {% for k in vertTestMaxValue %}
                                                                        "{{k}}",
                                                                    {% endfor %}
                                                                ],
                                                                fill: false,
                                                            }]
                                                        },
                                                        options: {
                                                            responsive: true,
                                                            title: {
                                                                display: true,
                                                                text: 'Vert Test Maximum Results'
                                                            },
                                                            tooltips: {
                                                                mode: 'label',
                                                            },
                                                            hover: {
                                                                mode: 'nearest',
                                                                intersect: true
                                                            },
                                                            scales: {
                                                                xAxes: [{
                                                                    display: true,
                                                                    scaleLabel: {
                                                                        display: true,
                                                                        labelString: 'Athletes'
                                                                    }
                                                                }],
                                                                yAxes: [{
                                                                    display: true,
                                                                    scaleLabel: {
                                                                        display: true,
                                                                        labelString: 'Results (cm)'
                                                                    }
                                                                }]
                                                            }
                                                        }
                                                    };


                                                    var ctx = document.getElementById("canvasVertMax2").getContext("2d");
                                                    window.myLine = new Chart(ctx, config);

                                                </script>

                                            </div>


                                    </div>


                                    <div class="row">


                                            <div class="col-lg-6">
                                                <div class="chart block" style="background-color: white">
                                                    <div>
                                                        <canvas id="canvasVertOrt"></canvas>
                                                    </div>
                                                </div>

                                                <script>

                                                    var chartColors = {
                                                        red: 'rgb(255, 99, 132)',
                                                        orange: 'rgb(255, 159, 64)',
                                                        yellow: 'rgb(255, 205, 86)',
                                                        green: 'rgb(75, 192, 192)',
                                                        blue: 'rgb(54, 162, 235)',
                                                        purple: 'rgb(153, 102, 255)',
                                                        grey: 'rgb(231,233,237)'
                                                    };

                                                    var randomScalingFactor = function () {
                                                        return (Math.random() > 0.5 ? 1.0 : -1.0) * Math.round(Math.random() * 100);
                                                    }
                                                    var config = {
                                                        type: 'bar',
                                                        data: {
                                                            labels: [
                                                                {% for k in vertTestOrtLab %}
                                                                    "{{k}}",
                                                                {% endfor %}
                                                            ],
                                                            datasets: [{
                                                                label: "Average",
                                                                backgroundColor: chartColors.green,
                                                                borderColor: chartColors.green,
                                                                data: [
                                                                    {% for k in vertTestOrtValue %}
                                                                        "{{k}}",
                                                                    {% endfor %}
                                                                ],
                                                                fill: false,
                                                            }]
                                                        },
                                                        options: {
                                                            responsive: true,
                                                            title: {
                                                                display: true,
                                                                text: 'Vert Test Average Results'
                                                            },
                                                            ticks: {
                                                                min: 0,
                                                                max: 1000
                                                            },
                                                            tooltips: {
                                                                mode: 'label',
                                                            },
                                                            hover: {
                                                                mode: 'nearest',
                                                                intersect: true
                                                            },
                                                            scales: {
                                                                xAxes: [{
                                                                    display: true,
                                                                    scaleLabel: {
                                                                        display: true,
                                                                        labelString: 'Athletes'
                                                                    }
                                                                }],
                                                                yAxes: [{
                                                                    display: true,
                                                                    scaleLabel: {
                                                                        display: true,
                                                                        labelString: 'Results (cm)'
                                                                    },
                                                                    ticks: {
                                                                        beginAtZero: true
                                                                    }
                                                                }]
                                                            }
                                                        }
                                                    };


                                                    var ctx = document.getElementById("canvasVertOrt").getContext("2d");
                                                    window.myLine = new Chart(ctx, config);

                                                </script>

                                            </div>


                                            <div class="col-lg-6">
                                                <div class="chart block" style="background-color: white">
                                                    <div>
                                                        <canvas id="canvasVertOrt2"></canvas>
                                                    </div>
                                                </div>

                                                <script>

                                                    var chartColors = {
                                                        red: 'rgb(255, 99, 132)',
                                                        orange: 'rgb(255, 159, 64)',
                                                        yellow: 'rgb(255, 205, 86)',
                                                        green: 'rgb(75, 192, 192)',
                                                        blue: 'rgb(54, 162, 235)',
                                                        purple: 'rgb(153, 102, 255)',
                                                        grey: 'rgb(231,233,237)'
                                                    };

                                                    var randomScalingFactor = function () {
                                                        return (Math.random() > 0.5 ? 1.0 : -1.0) * Math.round(Math.random() * 100);
                                                    }
                                                    var config = {
                                                        type: 'line',
                                                        data: {
                                                            labels: [
                                                                {% for k in vertTestOrtLab %}
                                                                    "{{k}}",
                                                                {% endfor %}
                                                            ],
                                                            datasets: [{
                                                                label: "Average",
                                                                backgroundColor: chartColors.green,
                                                                borderColor: chartColors.green,
                                                                data: [
                                                                    {% for k in vertTestOrtValue %}
                                                                        "{{k}}",
                                                                    {% endfor %}
                                                                ],
                                                                fill: false,
                                                            }]
                                                        },
                                                        options: {
                                                            responsive: true,
                                                            title: {
                                                                display: true,
                                                                text: 'Vert Test Average Results'
                                                            },
                                                            ticks: {
                                                                min: 0,
                                                                max: 1000
                                                            },
                                                            tooltips: {
                                                                mode: 'label',
                                                            },
                                                            hover: {
                                                                mode: 'nearest',
                                                                intersect: true
                                                            },
                                                            scales: {
                                                                xAxes: [{
                                                                    display: true,
                                                                    scaleLabel: {
                                                                        display: true,
                                                                        labelString: 'Athletes'
                                                                    }
                                                                }],
                                                                yAxes: [{
                                                                    display: true,
                                                                    scaleLabel: {
                                                                        display: true,
                                                                        labelString: 'Results (cm)'
                                                                    },
                                                                    ticks: {
                                                                        beginAtZero: true
                                                                    }
                                                                }]
                                                            }
                                                        }
                                                    };


                                                    var ctx = document.getElementById("canvasVertOrt2").getContext("2d");
                                                    window.myLine = new Chart(ctx, config);

                                                </script>

                                            </div>


                                    </div>

                                    <div class="row">


                                            <div class="col-lg-6">
                                                <div class="chart block" style="background-color: white">
                                                    <div>
                                                        <canvas id="canvasVertTotal"></canvas>
                                                    </div>
                                                </div>

                                                <script>

                                                    var chartColors = {
                                                        red: 'rgb(255, 99, 132)',
                                                        orange: 'rgb(255, 159, 64)',
                                                        yellow: 'rgb(255, 205, 86)',
                                                        green: 'rgb(75, 192, 192)',
                                                        blue: 'rgb(54, 162, 235)',
                                                        purple: 'rgb(153, 102, 255)',
                                                        grey: 'rgb(231,233,237)'
                                                    };

                                                    var randomScalingFactor = function () {
                                                        return (Math.random() > 0.5 ? 1.0 : -1.0) * Math.round(Math.random() * 100);
                                                    }
                                                    var config = {
                                                        type: 'bar',
                                                        data: {
                                                            labels: [
                                                                {% for k in vertTestTotalLab|sort %}
                                                                    "{{k}}",
                                                                {% endfor %}
                                                            ],
                                                            datasets: [{
                                                                label: "Total",
                                                                backgroundColor: chartColors.blue,
                                                                borderColor: chartColors.blue,
                                                                data: [
                                                                    {% for k in vertTestTotalValue|sort %}
                                                                        "{{k}}",
                                                                    {% endfor %}
                                                                ],
                                                                fill: false,
                                                            }]
                                                        },
                                                        options: {
                                                            responsive: true,
                                                            title: {
                                                                display: true,
                                                                text: 'Vert Test Total Jump Results'
                                                            },
                                                            ticks: {
                                                                min: 0,
                                                                max: 1000
                                                            },
                                                            tooltips: {
                                                                mode: 'label',
                                                            },
                                                            hover: {
                                                                mode: 'nearest',
                                                                intersect: true
                                                            },
                                                            scales: {
                                                                xAxes: [{
                                                                    display: true,
                                                                    scaleLabel: {
                                                                        display: true,
                                                                        labelString: 'Athletes'
                                                                    }
                                                                }],
                                                                yAxes: [{
                                                                    display: true,
                                                                    scaleLabel: {
                                                                        display: true,
                                                                        labelString: 'Results (pcs)'
                                                                    },
                                                                    ticks: {
                                                                        beginAtZero: true
                                                                    }
                                                                }]
                                                            }
                                                        }
                                                    };


                                                    var ctx = document.getElementById("canvasVertTotal").getContext("2d");
                                                    window.myLine = new Chart(ctx, config);

                                                </script>

                                            </div>

                                            <div class="col-lg-6">
                                                <div class="chart block" style="background-color: white">
                                                    <div>
                                                        <canvas id="canvasVertTotal2"></canvas>
                                                    </div>
                                                </div>

                                                <script>

                                                    var chartColors = {
                                                        red: 'rgb(255, 99, 132)',
                                                        orange: 'rgb(255, 159, 64)',
                                                        yellow: 'rgb(255, 205, 86)',
                                                        green: 'rgb(75, 192, 192)',
                                                        blue: 'rgb(54, 162, 235)',
                                                        purple: 'rgb(153, 102, 255)',
                                                        grey: 'rgb(231,233,237)'
                                                    };

                                                    var randomScalingFactor = function () {
                                                        return (Math.random() > 0.5 ? 1.0 : -1.0) * Math.round(Math.random() * 100);
                                                    }
                                                    var config = {
                                                        type: 'line',
                                                        data: {
                                                            labels: [
                                                                {% for k in vertTestTotalLab %}
                                                                    "{{k}}",
                                                                {% endfor %}
                                                            ],
                                                            datasets: [{
                                                                label: "Total",
                                                                backgroundColor: chartColors.blue,
                                                                borderColor: chartColors.blue,
                                                                data: [
                                                                    {% for k in vertTestTotalValue %}
                                                                        "{{k}}",
                                                                    {% endfor %}
                                                                ],
                                                                fill: false,
                                                            }]
                                                        },
                                                        options: {
                                                            responsive: true,
                                                            title: {
                                                                display: true,
                                                                text: 'Vert Test Total Jump Results'
                                                            },
                                                            ticks: {
                                                                min: 0,
                                                                max: 1000
                                                            },
                                                            tooltips: {
                                                                mode: 'label',
                                                            },
                                                            hover: {
                                                                mode: 'nearest',
                                                                intersect: true
                                                            },
                                                            scales: {
                                                                xAxes: [{
                                                                    display: true,
                                                                    scaleLabel: {
                                                                        display: true,
                                                                        labelString: 'Athletes'
                                                                    }
                                                                }],
                                                                yAxes: [{
                                                                    display: true,
                                                                    scaleLabel: {
                                                                        display: true,
                                                                        labelString: 'Results (pcs)'
                                                                    },
                                                                    ticks: {
                                                                        beginAtZero: true
                                                                    }
                                                                }]
                                                            }
                                                        }
                                                    };


                                                    var ctx = document.getElementById("canvasVertTotal2").getContext("2d");
                                                    window.myLine = new Chart(ctx, config);

                                                </script>

                                            </div>


                                    </div>


                                </div>


                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <footer class="footer">
            <div class="footer__block block no-margin-bottom">
            </div>
        </footer>
    </div>



    <script src="{{ url_for('static', filename='js/jquery-3.5.1.js') }}"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.0.272/jspdf.debug.js"></script>

    <script src="{{ url_for('static', filename='js/html2canvas.js') }}"></script>

    <script src="{{ url_for('static', filename='js/vert.js') }}"></script>

{% endblock %}